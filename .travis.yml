---
dist: bionic
language: minimal

jobs:
  include:

    - stage: release
      install:
        - wget https://raw.githubusercontent.com/creationix/nvm/v0.33.0/install.sh
        - sudo bash install.sh
        - nvm install lts/*
        - npm i -D semantic-release @semantic-release/commit-analyzer @semantic-release/release-notes-generator @semantic-release/changelog @semantic-release/npm @semantic-release/github @semantic-release/git @semantic-release/exec @commitlint/cli @commitlint/config-conventional
      deploy:
        provider: script
        skip_cleanup: true
        script:
          - npx semantic-release
        on:
          all_branches: true 

notifications:
  slack:
    secure: d8bcTJKiL0jPVTXZ88MQr6CQNvHEXfiB8VT44aJD3sOVmQiIy4Ajsfqf/RrIzI0Ac+uRGbOSOXLBNic63aV4/8P12LQGDswoiarxpmO85ZsggpInObrxtf3gC6YFtrdEuZqXunx8TvPupPGY5QCTa0ER3Le8q/1BVIfqlCnO2ofrbNNwrXOgogMSxX90ICo9bsmQ+OGrsT80ss8sUxyWaBfiHdymaqKnq73kOounh7BIqWgDVC190O1JRF2cnTrtsCBov1nFzY4EB+SXx3aL7N9iCNXrsPuGTaSdOcpv9qdYYlBpPEVE2inCgaE53m7VddIDQaiBbJWPgEkV9KEm1ZqQOvp4rNVoEBwtyYsgrFYPBFgNTP2IfjDsQt5Wu1QDV+qd36gxa/54AZof1RHmU14P66GZ/TOAe5ovWYdG2XnyK2FClFd8/Dx2y8e1+Toy65AOgVHh2kuVaZdWYC0s4Sb9jI1Co46sLck5/bN0DFD9/rnMsFvEmJLC4zT73vGakefyLlAgxDUm6w8JamWGGJUOJcQLIIK45mqc76PYVIszjt1AbKTs4oLcjXlriktSsTxRPHpqNDzr9wGd/A472z1nEUTLhzSASUulotHhJO7ZheAOXXZyReKPsi5T1laW5FSLOUIAIyhczjLGjUokUL50zOX+ax2rZEkNp1cXNPc=
